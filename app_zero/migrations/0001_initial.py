# Generated by Django 3.1.7 on 2021-03-01 16:32

import django.contrib.postgres.fields
import django.core.serializers.json
from django.db import migrations, models
import django.db.models.deletion
import uuid


class Migration(migrations.Migration):

    initial = True

    dependencies = [
    ]

    operations = [
        migrations.CreateModel(
            name='Address',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('address', models.CharField(default='Test street 9-9', max_length=250)),
                ('country', models.CharField(default='Test country', max_length=250)),
                ('state', models.CharField(default='Test state', max_length=250)),
                ('municipality', models.CharField(default='Test municipality', max_length=250)),
                ('zip_code', models.CharField(default='Test zip code', max_length=250)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
            ],
        ),
        migrations.CreateModel(
            name='CobOrder',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('submission', models.DateTimeField()),
                ('expiration', models.DateTimeField()),
                ('volume', models.IntegerField()),
                ('status', models.CharField(choices=[('active', 'Active'), ('cancelled', 'Cancelled'), ('expired', 'Expired'), ('pending', 'Pending'), ('full-allocation', 'Full Allocation')], max_length=150)),
                ('dirty_price', models.DecimalField(decimal_places=20, max_digits=40)),
                ('notional', models.DecimalField(decimal_places=20, max_digits=40)),
                ('price', models.DecimalField(decimal_places=20, max_digits=40)),
                ('spread', models.DecimalField(blank=True, decimal_places=20, max_digits=40, null=True)),
                ('discount_margin', models.DecimalField(blank=True, decimal_places=20, max_digits=40, null=True)),
                ('yield_value', models.DecimalField(decimal_places=20, max_digits=40)),
                ('direction', models.CharField(choices=[('buy', 'Buy'), ('sell', 'Sell')], max_length=150)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('origin', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='app_zero.coborder')),
                ('parent', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='child', to='app_zero.coborder')),
            ],
        ),
        migrations.CreateModel(
            name='ComplianceOfficer',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('first_name', models.CharField(default='Test first name', max_length=250)),
                ('last_name', models.CharField(default='Test last name', max_length=250)),
                ('telephone', models.CharField(default='Test 555555555', max_length=250)),
                ('email', models.EmailField(default='test@mail.com', max_length=250)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
            ],
        ),
        migrations.CreateModel(
            name='ContactPerson',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('first_name', models.CharField(default='Test first name', max_length=250)),
                ('last_name', models.CharField(default='Test last name', max_length=250)),
                ('telephone', models.CharField(default='Test 555555555', max_length=250)),
                ('email', models.EmailField(default='test@mail.com', max_length=250)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
            ],
        ),
        migrations.CreateModel(
            name='File',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('location', models.URLField(max_length=500)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
            ],
        ),
        migrations.CreateModel(
            name='Institution',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('name', models.CharField(max_length=250, unique=True)),
                ('rfc', models.CharField(max_length=350, unique=True)),
                ('status', models.CharField(choices=[('enabled', 'enabled'), ('disabled', 'disabled')], max_length=150)),
                ('license_type', django.contrib.postgres.fields.ArrayField(base_field=models.CharField(choices=[('trading', 'Trading Licence'), ('data', 'Data Licence')], max_length=150), size=None)),
                ('demo_licenses', models.PositiveIntegerField()),
                ('trade_licenses', models.PositiveIntegerField()),
                ('data_licenses', models.PositiveIntegerField()),
                ('curp', models.CharField(max_length=50, unique=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('address', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='app_zero.address')),
                ('compliance_officer', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='app_zero.complianceofficer')),
                ('contract', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='institution_contract', to='app_zero.file')),
                ('logo', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='institution_logo', to='app_zero.file')),
            ],
        ),
        migrations.CreateModel(
            name='InstitutionLead',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('rfc', models.CharField(default='Test RFC', max_length=250)),
                ('status', models.CharField(choices=[('verified-without-contract', 'Verified Without Contract'), ('not-verified', 'Not Verified'), ('verified', 'Verified')], max_length=150)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('address', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='app_zero.address')),
                ('compliance_officer', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='app_zero.complianceofficer')),
            ],
        ),
        migrations.CreateModel(
            name='Rfq',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('anonymous', models.BooleanField(default=True)),
                ('public', models.BooleanField(default=False)),
                ('submission', models.DateTimeField()),
                ('expiration', models.DateTimeField()),
                ('status', models.CharField(choices=[('cancelled', 'Cancelled'), ('expired', 'Expired'), ('active', 'Active')], max_length=150)),
                ('direction', models.CharField(choices=[('buy', 'Buy'), ('sell', 'Sell'), ('market', 'Market')], max_length=150)),
                ('volume', models.IntegerField()),
                ('settlement_currency', models.CharField(choices=[('usd', 'U.S. Dollar'), ('mxn', 'Mexican Peso')], max_length=150)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('counterparties', models.ManyToManyField(to='app_zero.Institution')),
            ],
        ),
        migrations.CreateModel(
            name='RfqResponse',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('submission', models.DateTimeField()),
                ('status', models.CharField(choices=[('active', 'Active'), ('cancelled', 'Cancelled'), ('expired', 'Expired')], max_length=150)),
                ('ask_price', models.DecimalField(decimal_places=20, max_digits=40)),
                ('ask_yield', models.DecimalField(decimal_places=20, max_digits=40)),
                ('ask_spread', models.DecimalField(decimal_places=20, max_digits=40)),
                ('ask_volume', models.IntegerField()),
                ('ask_discount_margin', models.DecimalField(decimal_places=20, max_digits=40)),
                ('ask_fx', models.DecimalField(decimal_places=20, max_digits=40)),
                ('ask_notional', models.DecimalField(decimal_places=20, max_digits=40)),
                ('bid_price', models.DecimalField(decimal_places=20, max_digits=40)),
                ('bid_yield', models.DecimalField(decimal_places=20, max_digits=40)),
                ('bid_spread', models.DecimalField(decimal_places=20, max_digits=40)),
                ('bid_notional', models.DecimalField(decimal_places=20, max_digits=40)),
                ('bid_discount_margin', models.DecimalField(decimal_places=20, max_digits=40)),
                ('bid_volume', models.IntegerField()),
                ('bid_fx', models.DecimalField(decimal_places=20, max_digits=40)),
                ('autoresponded', models.BooleanField()),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('rfq', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='app_zero.rfq')),
            ],
        ),
        migrations.CreateModel(
            name='Security',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('isin', models.CharField(max_length=250, unique=True)),
                ('name', models.CharField(max_length=250)),
                ('ticker', models.CharField(max_length=250)),
                ('series', models.CharField(max_length=250, unique=True)),
                ('registration', models.CharField(choices=[('cnbv', 'CNBV'), ('144a', '144A'), ('reg-s', 'RegS'), ('sec-reg', 'SEC-Reg'), ('mex-pp', 'Mex PP'), ('sov', 'Sov'), ('sov-gtee', 'Sov Gtee')], max_length=250)),
                ('classification_mx', models.CharField(max_length=250)),
                ('amortization_scheme', models.JSONField(encoder=django.core.serializers.json.DjangoJSONEncoder)),
                ('coupon_rate', models.DecimalField(decimal_places=20, max_digits=40)),
                ('initial_margin', models.DecimalField(decimal_places=20, max_digits=40)),
                ('issue_date', models.DateTimeField()),
                ('first_coupon_date', models.DateTimeField()),
                ('final_maturity_date', models.DateTimeField()),
                ('nominal_value', models.DecimalField(decimal_places=20, max_digits=40)),
                ('year_day_count', models.IntegerField()),
                ('redemption_price', models.DecimalField(decimal_places=20, max_digits=40)),
                ('security_notes', models.CharField(max_length=250)),
                ('number_of_payments', models.PositiveIntegerField()),
                ('issued_amount', models.DecimalField(decimal_places=20, max_digits=40)),
                ('outstanding', models.DecimalField(decimal_places=20, max_digits=40)),
                ('category', models.CharField(choices=[('fixed-rate', 'Fixed Rate')], max_length=250)),
                ('listing', django.contrib.postgres.fields.ArrayField(base_field=models.CharField(choices=[('bmv', 'BMV'), ('lux', 'LUX'), ('stg', 'STG')], max_length=150), size=None)),
                ('clearing', django.contrib.postgres.fields.ArrayField(base_field=models.CharField(choices=[('indeval', 'Indeval'), ('dtc', 'DTC'), ('euroclear', 'Euroclear'), ('clearstream', 'Clearstream')], max_length=150), size=None)),
                ('amortization_structure', models.CharField(choices=[('bullet', 'Bullet'), ('amortizer', 'Amortizer'), ('soft-bullet', 'Soft bullet'), ('variable-amortizer', 'Variable amortizer')], max_length=150)),
                ('redemption_type', models.CharField(choices=[('30-day-avg', '30 day average')], max_length=150)),
                ('coupon_period', models.CharField(choices=[('7d', '7 days'), ('28d', '28 days'), ('182d', '182 days'), ('360d', '360 days')], max_length=150)),
                ('day_count_convention', models.CharField(choices=[('mx-act-360', 'MEX Conv (ACT/360)'), ('us-30-360', 'US Conv (30/360)')], max_length=150)),
                ('currency_risk', models.CharField(choices=[('usd', 'US Dollar'), ('mxn', 'Mexican Peso'), ('udi', 'UDI')], max_length=150)),
                ('currency_of_payments', models.CharField(choices=[('usd', 'US Dollars'), ('mxn', 'Mexican Peso')], max_length=150)),
                ('security_type', models.CharField(choices=[('m-bono', 'MBono'), ('mex-corp-cebur', 'Mex Corp (CEBUR)'), ('mex-corp-st-cebur-cp', 'Mex Corp St (CEBUR CP)'), ('asset-backend-cebur-f', 'Asset-Backed (CEBUR F)'), ('cete', 'CETE'), ('bonde', 'BONDE')], max_length=150)),
                ('seniority', models.CharField(choices=[('senior', 'Senior'), ('subordinate', 'Subordinate'), ('contingent-capital-at1', 'Contingent Capital AT1'), ('contingent-capital-t2', 'Contingent Capital T2')], max_length=150)),
                ('guarantee', models.CharField(choices=[('secured', 'Secured'), ('unsecured', 'Unsecured')], max_length=150)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
            ],
            options={
                'verbose_name_plural': 'Securities',
            },
        ),
        migrations.CreateModel(
            name='SecurityIssuer',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('name', models.CharField(max_length=250)),
            ],
        ),
        migrations.CreateModel(
            name='SettlementInstruction',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=250)),
                ('clearing_house', models.CharField(choices=[('indeval', 'Indeval'), ('dtc', 'DTC'), ('euroclear', 'Euroclear'), ('clearstream', 'Clearstream')], max_length=250)),
                ('account', models.CharField(max_length=250)),
                ('bic_code', models.CharField(max_length=250)),
                ('custodian', models.CharField(max_length=250)),
                ('status', models.CharField(choices=[('active', 'Active'), ('deactivated', 'Deactivated')], max_length=250)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('deactivated_at', models.DateTimeField(blank=True, null=True)),
                ('document', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='app_zero.file')),
                ('institution', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='app_zero.institution')),
            ],
        ),
        migrations.CreateModel(
            name='Trader',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('license_type', django.contrib.postgres.fields.ArrayField(base_field=models.CharField(choices=[('trader', 'Trader License'), ('analyst', 'Analyst License'), ('demo', 'Demo License')], max_length=150), size=None)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('institution', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='app_zero.institution')),
            ],
        ),
        migrations.CreateModel(
            name='UserSettings',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('timezone', models.CharField(max_length=250)),
                ('date_format', models.CharField(max_length=250)),
                ('language', models.CharField(max_length=250)),
                ('theme_preferences', models.JSONField()),
            ],
        ),
        migrations.CreateModel(
            name='Watchlist',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('name', models.CharField(max_length=250)),
                ('status', models.CharField(choices=[('active', 'Active'), ('deactivated', 'Deactivated')], max_length=150)),
                ('description', models.TextField(blank=True, default='')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('archived_at', models.DateTimeField(blank=True, null=True)),
                ('securities', models.ManyToManyField(to='app_zero.Security')),
                ('trader', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='app_zero.trader')),
            ],
        ),
        migrations.CreateModel(
            name='User',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('first_name', models.CharField(blank=True, max_length=250, null=True)),
                ('second_name', models.CharField(blank=True, max_length=250, null=True)),
                ('last_name', models.CharField(blank=True, max_length=250, null=True)),
                ('email', models.EmailField(max_length=254)),
                ('password', models.CharField(blank=True, max_length=250, null=True)),
                ('telephone', models.CharField(blank=True, max_length=250, null=True)),
                ('cell_phone', models.CharField(blank=True, max_length=250, null=True)),
                ('rfc', models.CharField(max_length=250, unique=True)),
                ('curp', models.CharField(max_length=250, unique=True)),
                ('status', models.CharField(choices=[('enabled', 'Enabled'), ('disabled', 'Disabled')], max_length=250)),
                ('mfa_method', models.CharField(choices=[('email', 'Email authentication'), ('duo', 'DUO authentication')], max_length=250)),
                ('locked', models.BooleanField(default=False)),
                ('address', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='app_zero.address')),
                ('image', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='app_zero.file')),
                ('settings', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='app_zero.usersettings')),
            ],
        ),
        migrations.AddField(
            model_name='trader',
            name='user',
            field=models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='app_zero.user'),
        ),
        migrations.CreateModel(
            name='TradeBlockSettlement',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('notional', models.DecimalField(decimal_places=20, max_digits=40)),
                ('status', models.CharField(choices=[('failed', 'Failed'), ('settled', 'Settled')], max_length=150)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('settlement_instruction', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='app_zero.settlementinstruction')),
            ],
        ),
        migrations.CreateModel(
            name='TradeBlock',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('volume', models.IntegerField()),
                ('notional', models.DecimalField(decimal_places=20, max_digits=40)),
                ('settlement_currency', models.CharField(choices=[('usd', 'U.S. Dollar'), ('mxn', 'Mexican Peso')], max_length=150)),
                ('status', models.CharField(choices=[('failed', 'Failed'), ('partially-settled', 'Partially Settled'), ('settled', 'Settled')], max_length=150)),
                ('fx', models.DecimalField(decimal_places=20, max_digits=40)),
                ('all_in_weighted_avg_price', models.DecimalField(decimal_places=20, max_digits=40)),
                ('all_in_weighted_avg_yield', models.DecimalField(decimal_places=20, max_digits=40)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('booked_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='app_zero.trader')),
                ('buyer', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='buyer_institution', to='app_zero.institution')),
                ('security', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='app_zero.security')),
                ('seller', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='seller_institution', to='app_zero.institution')),
            ],
        ),
        migrations.AddField(
            model_name='settlementinstruction',
            name='trader',
            field=models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='app_zero.trader'),
        ),
        migrations.AddField(
            model_name='security',
            name='issuer',
            field=models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='app_zero.securityissuer'),
        ),
        migrations.CreateModel(
            name='RfqTransaction',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('volume', models.IntegerField()),
                ('notional', models.DecimalField(decimal_places=20, max_digits=40)),
                ('accrued_interest', models.DecimalField(decimal_places=20, max_digits=40)),
                ('price', models.DecimalField(decimal_places=20, max_digits=40)),
                ('all_in_price', models.DecimalField(decimal_places=20, max_digits=40)),
                ('all_in_yield', models.DecimalField(decimal_places=20, max_digits=40)),
                ('discount_margin', models.DecimalField(blank=True, decimal_places=20, max_digits=40, null=True)),
                ('yield_value', models.DecimalField(decimal_places=20, max_digits=40)),
                ('dirty_price', models.DecimalField(decimal_places=20, max_digits=40)),
                ('status', models.CharField(choices=[('closed', 'Closed'), ('booked', 'Booked'), ('failed', 'Failed')], max_length=150)),
                ('fee_buyer', models.DecimalField(decimal_places=20, max_digits=40)),
                ('fee_seller', models.DecimalField(decimal_places=20, max_digits=40)),
                ('vat', models.DecimalField(decimal_places=20, max_digits=40)),
                ('total_cash', models.DecimalField(decimal_places=20, max_digits=40)),
                ('settlement_date', models.DateTimeField()),
                ('settlement_currency', models.CharField(choices=[('usd', 'U.S. Dollar'), ('mxn', 'Mexican Peso')], max_length=150)),
                ('fx', models.DecimalField(decimal_places=20, max_digits=40)),
                ('created_at', models.DateTimeField()),
                ('buyer', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='rfq_transaction_buyer', to='app_zero.trader')),
                ('rfq', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='app_zero.rfq')),
                ('rfq_response', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='app_zero.rfqresponse')),
                ('security', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='app_zero.security')),
                ('seller', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='rfq_transaction_seller', to='app_zero.trader')),
            ],
        ),
        migrations.AddField(
            model_name='rfqresponse',
            name='trader',
            field=models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='app_zero.trader'),
        ),
        migrations.CreateModel(
            name='RfqLock',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('status', models.CharField(choices=[('active', 'Active'), ('deactivated', 'Deactivated')], max_length=150)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('deactivated_at', models.DateTimeField(blank=True, null=True)),
                ('institution', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='app_zero.institution')),
                ('trader', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='app_zero.trader')),
            ],
        ),
        migrations.CreateModel(
            name='RfqAutoResponder',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('min_volume', models.PositiveIntegerField()),
                ('max_volume', models.PositiveIntegerField()),
                ('public', models.BooleanField()),
                ('settlement_currency', models.CharField(choices=[('usd', 'U.S. Dollar'), ('mxn', 'Mexican Peso')], max_length=250)),
                ('ask_price', models.DecimalField(decimal_places=20, max_digits=40)),
                ('ask_spread', models.DecimalField(decimal_places=20, max_digits=40)),
                ('ask_fx', models.DecimalField(decimal_places=20, max_digits=40)),
                ('ask_notional', models.DecimalField(decimal_places=20, max_digits=40)),
                ('bid_price', models.DecimalField(decimal_places=20, max_digits=40)),
                ('bid_spread', models.DecimalField(decimal_places=20, max_digits=40)),
                ('bid_notional', models.DecimalField(decimal_places=20, max_digits=40)),
                ('bid_fx', models.DecimalField(decimal_places=20, max_digits=40)),
                ('status', models.CharField(choices=[('active', 'Active'), ('deactivated', 'Deactivated')], max_length=150)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('deactivated_at', models.DateTimeField(blank=True, null=True)),
                ('counterparties', models.ManyToManyField(to='app_zero.Institution')),
                ('security', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='app_zero.security')),
                ('trader', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='app_zero.trader')),
            ],
        ),
        migrations.AddField(
            model_name='rfq',
            name='security',
            field=models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='app_zero.security'),
        ),
        migrations.AddField(
            model_name='rfq',
            name='trader',
            field=models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='app_zero.trader'),
        ),
        migrations.CreateModel(
            name='NotificationSettings',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('notification_type', models.CharField(choices=[('rfq-submitted', ' Rfq Submitted'), ('rfq-fulfilled', 'Rfq Fulfilled'), ('rfq-expired', 'Rfq Expired'), ('rfq-allocated', 'Rfq Allocated'), ('rfq-cancelled', 'Rfq Cancelled'), ('rfq-received', 'Rfq Received'), ('rfqresponse-sent', 'RfqResponse Sent'), ('rfqresponse-allocated', 'RfqResponse Allocated'), ('rfqresponse-not-allocated', 'RfqResponse Not Allocated'), ('rfqresponse-received', 'RfqResponse Received'), ('rfqresponse-cancelled', 'RfqResponse Cancelled'), ('autoresponder-activated', 'AutoResponder Activated'), ('autoresponder-updated', 'AutoResponder Updated'), ('autoresponder-stopped', 'AutoResponder Stopped'), ('autoresponder-response-sent', 'AutoResponder Response Sent'), ('autoresponder-response-cancelled', 'AutoResponder Response Cancelled'), ('autoresponder-response-not-allocated', ' AutoResponder Response Not Allocated'), ('alarm-activated', 'Alarm Activated'), ('alarm-disabled', 'Alarm Disabled'), ('alarm-triggered', 'Alarm Triggered'), ('alarm-updated', ' Alarm Updated'), ('tradeblock-booked', 'TradeBlock Booked'), ('cobstream-order-updated', 'CobStream Order Updated'), ('cobstream-order-stopped', 'CobStream Order Stopped'), ('cob-order-placed', 'CobOrder Placed'), ('cob-order-expired', 'CobOrder Expired'), ('cob-order-cancelled', 'CobOrder Cancelled'), ('cob-order-partial-allocation', 'CobOrder Partial Allocation'), ('cob-order-full-allocation', 'CobOrder Full Allocation'), ('cob-order-outstanding-mc', 'CobOrder Outstanding Market Close'), ('cob-order-refreshed', 'CobOrder Refreshed'), ('transaction-settlement-confirmed', 'Transaction Settlement Confirmed'), ('transaction-settlement-failed', 'Transaction Settlement Failed')], max_length=250)),
                ('notify_as', django.contrib.postgres.fields.ArrayField(base_field=models.CharField(choices=[('email', 'Notify as email'), ('alarm', 'Notify as alarm'), ('toast', 'Notify as toast'), ('inbox', 'Notify as inbox')], max_length=250), size=None)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('user', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='app_zero.user')),
            ],
        ),
        migrations.CreateModel(
            name='Notification',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('notification_type', models.CharField(choices=[('rfq-submitted', ' Rfq Submitted'), ('rfq-fulfilled', 'Rfq Fulfilled'), ('rfq-expired', 'Rfq Expired'), ('rfq-allocated', 'Rfq Allocated'), ('rfq-cancelled', 'Rfq Cancelled'), ('rfq-received', 'Rfq Received'), ('rfqresponse-sent', 'RfqResponse Sent'), ('rfqresponse-allocated', 'RfqResponse Allocated'), ('rfqresponse-not-allocated', 'RfqResponse Not Allocated'), ('rfqresponse-received', 'RfqResponse Received'), ('rfqresponse-cancelled', 'RfqResponse Cancelled'), ('autoresponder-activated', 'AutoResponder Activated'), ('autoresponder-updated', 'AutoResponder Updated'), ('autoresponder-stopped', 'AutoResponder Stopped'), ('autoresponder-response-sent', 'AutoResponder Response Sent'), ('autoresponder-response-cancelled', 'AutoResponder Response Cancelled'), ('autoresponder-response-not-allocated', ' AutoResponder Response Not Allocated'), ('alarm-activated', 'Alarm Activated'), ('alarm-disabled', 'Alarm Disabled'), ('alarm-triggered', 'Alarm Triggered'), ('alarm-updated', ' Alarm Updated'), ('tradeblock-booked', 'TradeBlock Booked'), ('cobstream-order-updated', 'CobStream Order Updated'), ('cobstream-order-stopped', 'CobStream Order Stopped'), ('cob-order-placed', 'CobOrder Placed'), ('cob-order-expired', 'CobOrder Expired'), ('cob-order-cancelled', 'CobOrder Cancelled'), ('cob-order-partial-allocation', 'CobOrder Partial Allocation'), ('cob-order-full-allocation', 'CobOrder Full Allocation'), ('cob-order-outstanding-mc', 'CobOrder Outstanding Market Close'), ('cob-order-refreshed', 'CobOrder Refreshed'), ('transaction-settlement-confirmed', 'Transaction Settlement Confirmed'), ('transaction-settlement-failed', 'Transaction Settlement Failed')], max_length=250)),
                ('body', models.JSONField(encoder=django.core.serializers.json.DjangoJSONEncoder)),
                ('status', models.CharField(choices=[('read', 'Read'), ('unread', 'Unread'), ('archived', 'Archived')], max_length=250)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('user', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='app_zero.user')),
            ],
        ),
        migrations.CreateModel(
            name='Lead',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('comments', models.TextField()),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('contact_person', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='app_zero.contactperson')),
                ('institution', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='app_zero.institution')),
                ('institution_lead', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='app_zero.institutionlead')),
            ],
        ),
        migrations.CreateModel(
            name='InstitutionManager',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('user', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='app_zero.user')),
            ],
        ),
        migrations.AddField(
            model_name='institutionlead',
            name='contact_user',
            field=models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='app_zero.user'),
        ),
        migrations.AddField(
            model_name='institutionlead',
            name='contract',
            field=models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='institution_lead_contract', to='app_zero.file'),
        ),
        migrations.AddField(
            model_name='institutionlead',
            name='logo',
            field=models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='institution_lead_logo', to='app_zero.file'),
        ),
        migrations.AddField(
            model_name='institution',
            name='manager',
            field=models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='app_zero.institutionmanager'),
        ),
        migrations.CreateModel(
            name='Controller',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('user', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='app_zero.user')),
            ],
        ),
        migrations.CreateModel(
            name='Concierge',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('institutions', models.ManyToManyField(to='app_zero.Institution')),
                ('leads', models.ManyToManyField(to='app_zero.Lead')),
                ('user', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='app_zero.user')),
            ],
        ),
        migrations.CreateModel(
            name='CobTransaction',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('volume', models.IntegerField()),
                ('notional', models.DecimalField(decimal_places=20, max_digits=40)),
                ('accrued_interest', models.DecimalField(decimal_places=20, max_digits=40)),
                ('price', models.DecimalField(decimal_places=20, max_digits=40)),
                ('all_in_price', models.DecimalField(decimal_places=20, max_digits=40)),
                ('all_in_yield', models.DecimalField(decimal_places=20, max_digits=40)),
                ('discount_margin', models.DecimalField(blank=True, decimal_places=20, max_digits=40, null=True)),
                ('yield_value', models.DecimalField(decimal_places=20, max_digits=40)),
                ('dirty_price', models.DecimalField(decimal_places=20, max_digits=40)),
                ('status', models.CharField(choices=[('closed', 'Closed'), ('booked', 'Booked'), ('failed', 'Failed')], max_length=150)),
                ('fee_buyer', models.DecimalField(decimal_places=20, max_digits=40)),
                ('fee_seller', models.DecimalField(decimal_places=20, max_digits=40)),
                ('vat', models.DecimalField(decimal_places=20, max_digits=40)),
                ('total_cash', models.DecimalField(decimal_places=20, max_digits=40)),
                ('settlement_date', models.DateTimeField()),
                ('settlement_currency', models.CharField(choices=[('usd', 'U.S. Dollar'), ('mxn', 'Mexican Peso')], max_length=150)),
                ('fx', models.DecimalField(decimal_places=20, max_digits=40)),
                ('created_at', models.DateTimeField()),
                ('spread', models.DecimalField(blank=True, decimal_places=20, max_digits=40, null=True)),
                ('buy_order', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='cob_buy_order', to='app_zero.coborder')),
                ('buyer', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='cob_transaction_buyer', to='app_zero.trader')),
                ('security', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='app_zero.security')),
                ('sell_order', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='cob_sell_order', to='app_zero.coborder')),
                ('seller', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='cob_transaction_seller', to='app_zero.trader')),
            ],
        ),
        migrations.CreateModel(
            name='CobStream',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('status', models.CharField(choices=[('active', 'Active'), ('deactivated', 'Deactivated')], max_length=150)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('deactivated_at', models.DateTimeField(blank=True, null=True)),
                ('cob_order', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='app_zero.coborder')),
            ],
        ),
        migrations.AddField(
            model_name='coborder',
            name='security',
            field=models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='app_zero.security'),
        ),
        migrations.AddField(
            model_name='coborder',
            name='trader',
            field=models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='app_zero.trader'),
        ),
        migrations.CreateModel(
            name='CobAutoRefresher',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('autorefresh_type', models.CharField(choices=[('fixed-price', 'Fixed Price'), ('fixed-spread', 'Fixed Spread'), ('fixed-ispread', 'Fixed iSpread')], max_length=150)),
                ('interval', models.PositiveIntegerField()),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('cob_order', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='app_zero.coborder')),
            ],
        ),
        migrations.CreateModel(
            name='Alarm',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('alarm_type', models.CharField(choices=[('yield', 'Yield'), ('spread', 'Spread'), ('price', 'Price')], max_length=150)),
                ('value', models.DecimalField(decimal_places=20, max_digits=40)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('security', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='app_zero.security')),
            ],
        ),
    ]
